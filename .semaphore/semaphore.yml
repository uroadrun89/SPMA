version: v1.0
name: Telegram Song Downloader Bot
agent:
  machine:
    type: e1-medium
    os_image: ubuntu-22.04
blocks:
  - name: Install Dependencies
    task:
      jobs:
        - name: Install Python and Dependencies
          commands:
            - checkout
            - python -m venv venv
            - . venv/bin/activate
            - pip install --upgrade pip
            - pip install -r requirements.txt
            - pip install spotdl
  - name: Run Bot
    task:
      jobs:
        - name: Run Telegram Bot
          commands:
            - . venv/bin/activate
            - python main.py
