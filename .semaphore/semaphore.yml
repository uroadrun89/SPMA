version: v1.0
name: ''
agent:
  machine:
    type: e1-standard-2
    os_image: ubuntu2004
blocks:
  - name: Build and Test
    task:
      jobs:
        - name: Checkout code
          commands:
            - checkout
        - name: Set up Python environment
          commands:
            - python -m venv venv
            - source venv/bin/activate
        - name: Install dependencies
          commands:
            - pip install -r requirements.txt
        - name: Run script
          commands:
            - python main.py
  - name: Install Dependencies
    task:
      jobs:
        - name: Install requirements
          commands:
            - pip3.10 install -r requirements.txt
  - name: Run Python Script
    task:
      env_vars:
        - name: TELEGRAM_TOKEN
          value: '6953211957:AAE2rdKtITo6qVLjd_tF657pKz9-tj9EiNM'
      jobs:
        - name: Run main script
          commands:
            - python3.10 main.py
