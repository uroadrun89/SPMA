version: v1.0
name: Telegram Song Downloader Bot
agent:
  machine:
    type: e1-standard-2
    os_image: ubuntu2004
executors:
  - name: python-executor
    docker:
      image: 'python:3.9'
jobs:
  - name: Install dependencies
    executor: python-executor
    steps:
      - checkout
      - run:
          name: Install Python dependencies
          command: |
            pip install --upgrade pip
            pip install python-telegram-bot spotdl python-dotenv
            spotdl --download-ffmpeg
  - name: Run the bot
    executor: python-executor
    steps:
      - checkout
      - run:
          name: Run Telegram Bot
          command: python bot.py
workflows:
  version: v1
  build:
    jobs:
      - Install dependencies
      - Run the bot
blocks: []
